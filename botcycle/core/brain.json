{
  "greeting" : {
    "requirements": [],
    "steps": [],
    "output": "greet_back"
  },
  "search_bike": {
    "requirements": [{
      "name": "position",
      "candidate_entities": ["location", "user_position"],
      "consequence": {
        "action": "ask_position",
        "inject": "location",
        "candidate_intents": ["set_position"]
      }
    }],
    "steps": [{
      "name": "find_bike",
      "args": ["position"]
    }, {
      "name": "check_meteo",
      "args": ["position"]
    }],
    "output": "give_bike_result"
  },
  "search_slot": {
    "requirements": [{
      "name": "position",
      "candidate_entities": ["location", "user_position"],
      "consequence": {
        "action": "ask_position",
        "inject": "location",
        "candidate_intents": ["set_position"]
      }
    }],
    "steps": [{
      "name": "find_slot",
      "args": ["position"]
    }, {
      "name": "check_meteo",
      "args": ["position"]
    }],
    "output": "give_slot_result"
  },
  "plan_trip": {
    "requirements": [{
      "name": "from",
      "candidate_entities": ["from", "user_position"],
      "consequence": {
        "action": "ask_position",
        "inject": "from",
        "candidate_intents": ["set_position"]
      }
    }, {
      "name": "to",
      "candidate_entities": ["to"],
      "consequence": {
        "action": "ask_destination",
        "inject": "to",
        "candidate_intents": []
      }
    }],
    "steps": [{
      "name": "find_bike",
      "args": ["from"]
    }, {
      "name": "find_slot",
      "args": ["to"]
    }, {
      "name": "check_meteo",
      "args": ["from", "to"]
    }],
    "output": "give_trip_results"
  },
  "set_position": {
    "requirements": [{
      "name": "position",
      "candidate_entities": ["location", "user_position"]
    }],
    "steps": [{
      "name": "set_position",
      "args": ["position"]
    }],
    "output": "give_position_ack"
  },
  "other": {
    "requirements": [],
    "steps":["audit"],
    "output": "apologize"
  }
}
